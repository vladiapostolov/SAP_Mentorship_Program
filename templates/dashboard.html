{% extends "layout.html" %}
{% set title = "Dashboard" %}
{% block content %}
<div class="dashboard-header">
    <h1>ğŸš Welcome to Dronify, {{ user.full_name }}</h1>
    <p>Role: {{ user.role }} | {% if user.role == 'ADMIN' %}Full System Administrator{% else %}Warehouse Staff{% endif %}</p>
</div>

{% if user.role == 'ADMIN' %}
<div class="dashboard-stats">
    <div class="stat-card">
        <h3>{{ stats.total_users or 0 }}</h3>
        <p>ğŸ‘¥ Total Users</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.total_items }}</h3>
        <p>ğŸ“¦ Total Items</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.total_quantity }}</h3>
        <p>ğŸ”¢ Total Quantity</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.low_stock_items }}</h3>
        <p>âš ï¸ Low Stock Items</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.events_today }}</h3>
        <p>ğŸ“ˆ Events Today</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.inbound_qty_today }}</h3>
        <p>ğŸ“¥ Inbound Today</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.outbound_qty_today }}</h3>
        <p>ğŸ“¤ Outbound Today</p>
    </div>
</div>

<div class="cards">
    <div class="card">
        <h3>ğŸ”§ Admin Controls</h3>
        <p><a href="{{ url_for('inventory.inventory') }}" class="btn btn-primary">ğŸ“¦ Manage Inventory</a></p>
        <p><a href="{{ url_for('scan.scan') }}" class="btn btn-secondary">ğŸ“± Scan QR Codes</a></p>
        <p><a href="{{ url_for('dashboard.manage_users') }}" class="btn btn-secondary">ğŸ‘¥ Manage Users</a></p>
        <p><a href="#" class="btn btn-secondary">ğŸ“Š Advanced Reports</a></p>
    </div>
    <div class="card">
        <h3>ğŸ­ Warehouse Operations</h3>
        <p>Full control over all warehouse functions</p>
        <ul>
            <li>âœ… Add/Remove inventory items</li>
            <li>âœ… Process stock movements</li>
            <li>âœ… View all user activities</li>
            <li>âœ… Generate reports</li>
        </ul>
    </div>
</div>
{% else %}
<div class="dashboard-stats">
    <div class="stat-card">
        <h3>{{ stats.total_items }}</h3>
        <p>ğŸ“¦ Items Available</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.low_stock_items }}</h3>
        <p>âš ï¸ Low Stock Alerts</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.events_today }}</h3>
        <p>ğŸ“ˆ Today's Activities</p>
    </div>
</div>

<div class="cards">
    <div class="card">
        <h3>ğŸ“± Quick Actions</h3>
        <p><a href="{{ url_for('scan.scan') }}" class="btn btn-primary">ğŸ“· Scan QR Code</a></p>
        <p><a href="{{ url_for('inventory.inventory') }}" class="btn btn-secondary">ğŸ“¦ View Inventory</a></p>
    </div>
    <div class="card">
        <h3>ğŸ“‹ Your Tasks</h3>
        <ul>
            <li>ğŸ“± Scan items for stock updates</li>
            <li>ğŸ“¦ Check inventory levels</li>
            <li>âš ï¸ Monitor low stock alerts</li>
        </ul>
    </div>
</div>
{% endif %}
{% endblock %}
